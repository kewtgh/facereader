/* ======================================================================
 *  0. 全局设计 Tokens（只在本文件使用）
 * ==================================================================== */

$max-page-width: 1240px;
$content-gap: 3rem;

$card-radius: 0.9rem;
$card-bg: mix($background-color, #ffffff, 96%);
$card-border: mix(#000000, $border-color, 5%);
$card-shadow: 0 4px 14px rgba(15, 23, 42, 0.04);
$card-shadow-hover: 0 10px 24px rgba(15, 23, 42, 0.08);


/* ======================================================================
 *  1. 正文基础（行距 / 引用）
 * ==================================================================== */

.page__title {
  line-height: 1.25;
}

.page__content {
  line-height: 1.8;
}

/* blockquote：保留你原有风格，去掉冗余 */
.page__content blockquote {
  margin: 1.4rem 0;
  padding: 0.9rem 1.1rem;
  border-inline-start: 4px solid $primary-color;
  background: mix($background-color, #ffffff, 72%);
  border-radius: 0.5rem;
  font-family: $serif;
}

.page__content blockquote p {
  margin: 0.3rem 0;
}


/* ======================================================================
 *  2. Hero（首页 & 文章页）
 * ==================================================================== */

.page__hero--overlay .wrapper {
  min-height: 360px;
  display: flex;
  flex-direction: column;
  justify-content: center;
}

/* Hero → 正文唯一控制点 */
.page__hero--overlay + .page,
.page__hero + .page {
  margin-top: 0.9rem;
}


/* ======================================================================
 *  3. 首页整体结构（防止区块混在一起）
 * ==================================================================== */

.home .page__content {
  display: block;
}

.home-section {
  margin-top: 3rem;
}

.home-section--posts {
  margin-top: 2.5rem;
}


/* ======================================================================
 *  4. 首页 feature_row & 最近更新（统一卡片体系）
 * ==================================================================== */

.feature__item .archive__item,
.home .entries-grid .archive__item {
  border-radius: $card-radius;
  background: $card-bg;
  border: 1px solid $card-border;
  box-shadow: $card-shadow;
  transition: transform 0.15s ease, box-shadow 0.15s ease;
}

.feature__item .archive__item:hover,
.home .entries-grid .archive__item:hover {
  transform: translateY(-2px);
  box-shadow: $card-shadow-hover;
}

/* 首页卡片文字体系 */
.feature__item .archive__item,
.home .entries-grid .archive__item {
  font-size: 0.96rem;
}

.home .entries-grid .archive__item-title {
  font-size: 1rem;
}

.home .entries-grid .archive__item-excerpt {
  font-size: 0.9rem;
  line-height: 1.7;
}


/* ======================================================================
 *  5. 首页 About CTA —— 恢复为“整行模块”
 * ==================================================================== */

.home-section--about-cta .home-cta {
  max-width: 100%;
  margin: 0;
  padding: 2.2rem 0;
  background: transparent;
}

/* 禁止被压成窄卡片 */
.home-cta--about {
  display: block;
}

/* 内容宽度由内部控制 */
.home-cta__inner {
  max-width: $max-page-width;
  margin: 0 auto;
  padding: 0 1.25rem;
}


/* ======================================================================
 *  6. 单篇文章页：宽度 & 空白修复
 * ==================================================================== */

@include breakpoint($x-large) {
  .layout--single .page {
    max-width: $max-page-width;
  }
}

.layout--single .page {
  column-gap: $content-gap;
}

/* 关键修复：正文不再被整体下推 */
.layout--single .page__content {
  margin-top: 0 !important;
}


/* ======================================================================
 *  7. Sidebar（作者卡 / 专栏目录）
 * ==================================================================== */

.layout--single .sidebar .h-card,
.layout--single .sidebar .nav__list {
  background: $card-bg;
  border-radius: 1rem;
  border: 1px solid mix(#000000, $border-color, 3%);
  box-shadow: 0 2px 8px rgba(15, 23, 42, 0.03);
}

/* Sidebar 字号（来自你原方案，统一后保留） */
.layout--single .sidebar .author__name {
  font-size: 1rem;
}

.layout--single .sidebar .nav__title {
  font-size: 1.16rem;
}

.layout--single .sidebar .nav__sub-title {
  font-size: 1.08rem;
}

.layout--single .sidebar .nav__items {
  font-size: 1.03rem;
  line-height: 1.9;
}


/* ======================================================================
 *  8. 推荐栏（猜你喜欢 / 相关文章）
 * ==================================================================== */

.page__related-title {
  font-size: 1.2rem;
}

.page__related .archive__item {
  font-size: 0.95rem;
  background: $card-bg;
  border-radius: $card-radius;
  border: 1px solid $card-border;
  box-shadow: $card-shadow;
}

.page__related .archive__item-title {
  font-size: 0.98rem;
}

.page__related .archive__item-excerpt {
  font-size: 0.9rem;
  line-height: 1.7;
}


/* ======================================================================
 *  9. 图片 & 图注（收紧间距，避免视觉拖沓）
 * ==================================================================== */

.page__content figure {
  margin-bottom: 0.75rem;
}

.page__content figure > img {
  display: block;
  margin-bottom: 0.12rem;
}

.page__content figure > figcaption,
.page__content .image-caption,
.page__content em.image-caption,
.page__content p.image-caption {
  margin: 0 0 0.5rem;
  font-size: 0.9rem;
  text-align: center;
}


/* ======================================================================
 *  END – Clean, Stable, Maintainable
 * ==================================================================== */
