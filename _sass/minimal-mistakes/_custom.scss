/* ============================================================
 * 1. 基础微调：行距 & 引用样式
 * ========================================================== */

.page__title {
  line-height: 1.25;
}

.page__content blockquote {
  margin: 1.5rem 0;
  padding: 0.9rem 1.1rem 0.9rem 1.2rem;
  border-inline-start: 4px solid $primary-color;
  background: mix($background-color, #ffffff, 70%);
  border-radius: 0.5rem;
  font-family: $serif;
  font-size: 1.02em;
  color: darken($text-color, 5%);
  position: relative;
}

.page__content blockquote p {
  margin: 0.3rem 0;
}

.page__content blockquote p:last-child {
  margin-bottom: 0;
}

.page__content blockquote::before {
  content: "“";
  position: absolute;
  inset-inline-start: 0.4rem;
  inset-block-start: 0.1rem;
  font-family: $serif;
  font-size: 2.6rem;
  line-height: 1;
  color: rgba($primary-color, 0.2);
  pointer-events: none;
}

/* ============================================================
 * 2. 首页 Hero：标题 & 两个按钮
 * ========================================================== */

/* 让内容区域稍微居中一点，高度适中 */
.page__hero--overlay .wrapper {
  min-height: 360px;
  display: flex;
  flex-direction: column;
  justify-content: center;
}

.page__hero--overlay .page__title {
  max-width: 32rem;
  margin-bottom: 0.6rem;
}

.page__hero--overlay .page__lead {
  max-width: 32rem;
  font-size: 1rem;
  line-height: 1.85;
}

/* 按钮容器：桌面端横向排列 */
.page__hero--overlay .page__hero-actions {
  margin-top: 1.2rem;
  display: flex;
  flex-wrap: wrap;
  gap: 0.8rem;
  align-items: center;
}

/* 基础按钮形态：pill，宽度适中 */
.page__hero--overlay .page__hero-actions .btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.6rem 1.8rem;
  border-radius: 999px;
  font-size: 0.96rem;
  font-weight: 500;
  min-width: 220px;
  max-width: 280px;
  text-align: center;
}

/* 主按钮：白底蓝字，浅阴影 */
.page__hero--overlay .page__hero-actions .btn--primary {
  background-color: #ffffff;
  border-color: #ffffff;
  color: #3375ff !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);
}

.page__hero--overlay .page__hero-actions .btn--primary:hover,
.page__hero--overlay .page__hero-actions .btn--primary:focus {
  background-color: rgba(255, 255, 255, 0.96);
  border-color: rgba(255, 255, 255, 0.96);
  color: #2758c8 !important;
}

/* 次按钮：半透明描边，轻一点的阴影 */
.page__hero--overlay .page__hero-actions .btn--secondary {
  background-color: rgba(255, 255, 255, 0.12);
  border-color: rgba(255, 255, 255, 0.88);
  color: #ffffff !important;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.12);
}

.page__hero--overlay .page__hero-actions .btn--secondary:hover,
.page__hero--overlay .page__hero-actions .btn--secondary:focus {
  background-color: rgba(255, 255, 255, 0.18);
  border-color: #ffffff;
}

/* Hero 和正文之间空白收紧一点 */
.page__hero--overlay + .page,
.page__hero + .page {
  margin-top: 1.6rem;
}

/* 手机端：按钮改为上下排、宽度 100% 内 */
@include breakpoint(max-width $small) {
  .page__hero--overlay {
    padding-block: 2.4rem 2.6rem;
  }

  .page__hero--overlay .page__title {
    font-size: 1.7rem;
    line-height: 1.25;
    max-width: 100%;
    margin-bottom: 0.55rem;
  }

  .page__hero--overlay .page__lead {
    font-size: 0.95rem;
    max-width: 22rem;
  }

  .page__hero--overlay .page__hero-actions {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.55rem;
  }

  .page__hero--overlay .page__hero-actions .btn {
    width: 100%;
    max-width: 260px;
    min-height: 2.4rem;
  }
}

/* ============================================================
 * 3. 首页 feature_row & 最近更新：卡片效果
 * ========================================================== */

/* feature_row 三张卡片：统一卡片风格 */
.feature__item .archive__item {
  border-radius: 1rem;
  border: 1px solid $border-color;
  padding: 1rem 1rem 0.9rem;
  box-shadow: 0 6px 18px rgba(15, 23, 42, 0.04);
  transition: transform 0.15s ease, box-shadow 0.15s ease;
  background-color: #fff;
}

.feature__item .archive__item:hover {
  transform: translateY(-3px);
  box-shadow: 0 12px 28px rgba(15, 23, 42, 0.08);
}

.feature__item .archive__item-body {
  display: flex;
  flex-direction: column;
}

/* 按钮贴底部 */
.feature__item .archive__item-body > *:last-child {
  margin-top: auto;
}

.feature__item .btn {
  margin-top: 0.75rem;
}

/* 首页最近更新区：同样卡片风格 */
.home .entries-grid .archive__item {
  border-radius: 0.9rem;
  border: 1px solid $border-color;
  padding: 0.9rem 0.9rem 0.8rem;
  box-shadow: 0 4px 14px rgba(15, 23, 42, 0.04);
  background-color: #fff;
  transition: transform 0.12s ease, box-shadow 0.12s ease;
}

.home .entries-grid .archive__item:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 24px rgba(15, 23, 42, 0.08);
}

/* ============================================================
 * 4. 最后一块 About 卡片：左图右文
 * ========================================================== */

/* 整体卡片外观 */
.home-section--about-cta .home-cta {
  padding: 1.6rem 1.5rem;
  border-radius: 1.25rem;
  background: mix(#ffffff, $background-color, 80%);
  border: 1px solid mix(#000000, $border-color, 6%);
  box-shadow: 0 6px 18px rgba(15, 23, 42, 0.04);
  max-width: 980px;
  margin-left: auto;
  margin-right: auto;
}

/* 左图右文布局：直接让整张卡片变成 flex 容器 */
.home-cta--about {
  display: flex;
  align-items: center;
  gap: 1.75rem;
}

/* 左侧图片 */
.home-cta--about img {
  flex: 0 0 38%;
  max-width: 38%;
  height: 100%;
  max-height: 260px;
  object-fit: cover;
  border-radius: 1rem;
}

/* 右侧文字区 */
.home-cta--about .home-cta__text {
  flex: 1 1 0;
}

.home-cta--about .home-cta__text h2 {
  font-weight: 600;
  font-size: 1.4rem;
  line-height: 1.4;
  margin-bottom: 0.6rem;
}

.home-cta--about .home-cta__text p {
  font-size: 0.95rem;
  margin-bottom: 1.1rem;
  line-height: 1.7;
}

.home-cta--about .btn--primary {
  margin-top: 0.75rem;
  min-width: 170px;
}

/* 小屏幕：改回上下排 */
@include breakpoint(max-width $small) {
  .home-cta--about {
    flex-direction: column;
    align-items: stretch;
  }

  .home-cta--about img {
    max-width: 100%;
    max-height: 220px;
  }

  .home-cta--about .home-cta__text h2 {
    font-size: 1.1rem;
  }
}

/* ============================================================
 * 5. 单篇文章页：整体宽度 & 图片说明间距
 * ========================================================== */

/* 大屏时整体稍微放宽一点 */
@include breakpoint($x-large) {
  .layout--single .page {
    max-width: 1240px;
  }
}

/* 左侧栏与正文间距拉大一点（grid 和 float 兼容） */
.layout--single .page {
  column-gap: 3rem;
  grid-column-gap: 3rem;
}

.layout--single .sidebar {
  margin-right: 2.5rem;
}

/* 图片说明更贴近图片本身 */
.page__content figure {
  margin-bottom: 1.1rem;
}

.page__content figure > img {
  display: block;
  margin-bottom: 0.25rem;
}

.page__content figure > figcaption {
  margin-top: 0;
  margin-bottom: 0.75rem;
}

/* 兼容用 .image-caption 写说明的情况 */
.page__content .image-caption,
.page__content em.image-caption,
.page__content p.image-caption {
  display: block;
  margin-top: 0.25rem;
  margin-bottom: 0.75rem;
  text-align: center;
}

/* ============================================================
 * 6. 文章页侧栏：作者卡片 & 专栏目录
 * ========================================================== */

/* 作者卡片：背景更柔和、阴影更轻 */
.layout--single .sidebar .h-card {
  padding: 1.4rem 1.1rem 1.25rem;
  border-radius: 1.1rem;
  background: mix($background-color, #ffffff, 92%);
  border: 1px solid mix(#000000, $border-color, 4%);
  box-shadow: 0 3px 10px rgba(15, 23, 42, 0.03);
  text-align: center;
}

.layout--single .sidebar .author__avatar {
  width: 80px;
  height: 80px;
  margin: 0 auto 0.75rem;
}

.layout--single .sidebar .author__avatar img {
  border-radius: 50%;
}

.layout--single .sidebar .author__name {
  font-size: 1rem;
  margin-bottom: 0.25rem;
}

.layout--single .sidebar .author__bio {
  font-size: 0.9rem;
  line-height: 1.6;
  color: $muted-text-color;
}

.layout--single .sidebar .author__urls-wrapper {
  margin-top: 0.9rem;
}

.layout--single .sidebar .author__urls-wrapper > .btn {
  display: none;
}

.layout--single .sidebar .author__urls {
  font-size: 0.9rem;
}

.layout--single .sidebar .author__urls li {
  margin-bottom: 0.18rem;
}

/* 专题列表整体也做成柔和卡片，和作者卡片风格统一 */
.layout--single .sidebar .nav__list {
  margin-top: 1.2rem;
  padding: 1.1rem 1.1rem 0.9rem;
  border-radius: 1.1rem;
  background: mix($background-color, #ffffff, 94%);
  border: 1px solid mix(#000000, $border-color, 4%);
  box-shadow: 0 3px 10px rgba(15, 23, 42, 0.03);
}

/* 标题 / 小标题 / 条目字号全部再放大半级 */
.layout--single .sidebar .nav__title {
  margin: 0 0 0.4rem;
  padding: 0;
  font-family: $sans-serif;
  font-size: 1.1rem;
  font-weight: 600;
}

.layout--single .sidebar .nav__sub-title {
  display: block;
  margin: 0.65rem 0 0.4rem;
  padding: 0;
  font-family: $sans-serif;
  font-size: 1.04rem;
  font-weight: 600;
  text-transform: none;
  border-bottom: none;
}

.layout--single .sidebar .nav__items {
  margin: 0 0 0.7rem;
  font-size: 1.01rem;
  line-height: 1.9;
}

.layout--single .sidebar .nav__items a {
  color: $text-color;

  &:hover {
    color: $link-color;
  }
}

/* 右侧 TOC 字号略小但清晰，允许换行 */
.layout--single .sidebar .toc__menu {
  font-size: 0.92rem;
  line-height: 1.6;
}

.layout--single .sidebar .toc__menu a {
  word-break: break-word;
}

.layout--single .sidebar .toc__menu li ul > li a {
  padding-inline-start: 1.2rem;
}

/* ============================================================
 * 7. 推荐栏（猜你喜欢 / 相关文章）：恢复卡片样式
 * ========================================================== */

.page__related-title {
  font-size: 1.2rem;
}

/* 推荐区卡片 */
.page__related .grid__wrapper .archive__item {
  border-radius: 0.9rem;
  border: 1px solid $border-color;
  padding: 0.9rem 0.9rem 0.8rem;
  box-shadow: 0 4px 14px rgba(15, 23, 42, 0.04);
  background-color: #fff;
  transition: transform 0.12s ease, box-shadow 0.12s ease;
}

.page__related .grid__wrapper .archive__item:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 24px rgba(15, 23, 42, 0.08);
}
