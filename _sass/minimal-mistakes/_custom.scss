/* FaceReader 自定义样式
   这里的变量和 mixin（如 $link-color、$border-color、breakpoint 等）
   都在 minimal-mistakes.scss 中提前 import 了，可以直接使用。  */

/* ========== 全局排版 ========== */

/* 全站行距稍微放大一点 */
body {
  line-height: 1.7;
}

/* 略微收窄正文宽度，让中文中长文更好读 */
.page {
  max-width: 820px;
  margin-left: auto;
  margin-right: auto;
}

/* 顶部导航略微加粗一点，更像“产品站” */
.masthead__menu-item a {
  font-weight: 500;
}

/* 文章页标题行距舒展一点 */
.page__title {
  line-height: 1.25;
}

/* 文章正文里的图片默认居中一点，看起来更整齐 */
.page__content img {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

/* ========== 首页：section & 最近更新 ========== */

.home-section {
  margin: 2.5rem 0 3rem;
}

.home-section__title {
  font-size: 1.3rem;
  margin-bottom: 1rem;
}

/* “最近更新”区头部：标题 + 查看全部 */
.home-section--posts .home-section__header {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 1rem;
  margin-bottom: 1rem;
}

.home-section__more {
  font-size: 0.9rem;
  color: $muted-text-color;
}

.home-section__more:hover {
  color: $link-color;
}

/* feature_row 和 “最近更新” 之间的间距微调 */
.home-section--posts {
  margin-top: 2.75rem;
}

/* 让首页文章卡片更像卡片 */
.entries-grid .archive__item {
  border-radius: 0.75rem;
  border: 1px solid $border-color;
  padding: 1rem 1rem 0.9rem;
  box-shadow: 0 6px 18px rgba(15, 23, 42, 0.04);
  transition: transform 0.15s ease, box-shadow 0.15s ease;
}

.entries-grid .archive__item:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 24px rgba(15, 23, 42, 0.08);
}

/* 相关文章区域稍微美化 */
.page__related-title {
  font-size: 1.2rem;
}

.page__related .grid__wrapper .archive__item {
  border-radius: 0.75rem;
  border: 1px solid $border-color;
  padding: 0.8rem 0.9rem 0.75rem;
}

/* ========== 全局按钮样式扩展 ========== */

/* 主按钮：统一使用和顶部蓝色接近的颜色 */
.btn--primary,
.btn--primary:visited {
  background-color: #3375ff;  /* 和 header overlay 的蓝色一致 */
  border-color: #3375ff;
  color: #fff !important;
}

.btn--primary:hover,
.btn--primary:focus {
  background-color: darken(#3375ff, 7%);
  border-color: darken(#3375ff, 7%);
  color: #fff !important;
}

/* 卡片里的 secondary（如果以后用到），保持简洁深色边框 */
.btn--secondary {
  background-color: transparent;
  border-color: #333;
  color: #333;
}

.btn--secondary:hover,
.btn--secondary:focus {
  background-color: rgba(0, 0, 0, 0.03);
  border-color: #111;
}

/* ========== 首页 Hero（顶部大图） ========== */

/* 让首页大图里的文字更紧凑一些 */
.page__hero--overlay .page__title {
  margin-bottom: 0.4rem;
}

/* 副标题宽度和字号 */
.page__hero--overlay .page__lead {
  max-width: 34rem;
  font-size: 1rem;
}

/* 按钮之间空隙稍微小一点，看起来成一组 */
.page__hero--overlay .page__lead + .page__hero-actions {
  margin-top: 0.75rem;
}

/* Hero 区按钮在桌面端的布局和样式 */
.page__hero--overlay .page__hero-actions {
  margin-top: 1.1rem;
  display: flex;
  flex-wrap: wrap;
  gap: 0.75rem;
}

/* Hero 区统一按钮基础样式（桌面端） */
.page__hero--overlay .btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.65rem 1.8rem;
  border-radius: 999px;
  font-size: 0.98rem;
  font-weight: 500;
}

/* 顶部大图里的 primary 按钮：白底蓝字，作为主行动 */
.page__hero--overlay .btn--primary {
  background-color: #ffffff;
  border-color: #ffffff;
  color: #3375ff !important;
}

.page__hero--overlay .btn--primary:hover,
.page__hero--overlay .btn--primary:focus {
  background-color: rgba(255, 255, 255, 0.92);
  border-color: rgba(255, 255, 255, 0.92);
  color: #2758c8 !important;
}

/* 顶部大图里的 secondary 按钮：透明底 + 白边白字 */
.page__hero--overlay .btn--secondary {
  background-color: transparent;
  border-color: rgba(255, 255, 255, 0.9);
  color: #fff !important;
}

.page__hero--overlay .btn--secondary:hover,
.page__hero--overlay .btn--secondary:focus {
  background-color: rgba(255, 255, 255, 0.12);
  border-color: #fff;
}

/* ========== 首页 feature_row 三张卡片 ========== */

/* 卡片外观 + 轻微抬起效果 */
.feature__item {
  border-radius: 1rem;
  box-shadow: 0 6px 18px rgba(15, 23, 42, 0.05);
  transition: transform 0.15s ease, box-shadow 0.15s ease;
  display: flex;
  flex-direction: column;
}

.feature__item:hover {
  transform: translateY(-3px);
  box-shadow: 0 12px 28px rgba(15, 23, 42, 0.09);
}

/* 让正文区域与按钮自动分开，按钮贴底部 */
.feature__item .archive__item-body {
  flex: 1 1 auto;
  display: flex;
  flex-direction: column;
}

.feature__item .archive__item-body > *:last-child {
  margin-top: auto;
}

/* feature_row 卡片：按钮不要太贴底部，整体更匀称 */
.feature__item .btn {
  margin-top: 0.75rem;
}

/* ========== 引用 blockquote 优化 ========== */

.page__content blockquote {
  margin: 1.5rem 0;
  padding: 0.9rem 1.1rem 0.9rem 1.2rem;
  border-inline-start: 4px solid $primary-color;  // 用主题主色做左边线
  background: mix($background-color, #ffffff, 70%);
  border-radius: 0.5rem;

  font-family: $serif;    // 和正文区分开，用你设定的中文衬线字体
  font-style: normal;     // 明确关闭斜体
  font-size: 1.02em;
  color: darken($text-color, 5%);
  position: relative;
}

/* 引用里的段落间距减少一点，更像一段连续文字 */
.page__content blockquote p {
  margin: 0.3rem 0;
}

/* 如果最后一行是“—— 某某”这种，可以稍微拉开一点距离 */
.page__content blockquote p:last-child {
  margin-bottom: 0;
}

/* 加一点引号装饰 */
.page__content blockquote::before {
  content: "“";
  position: absolute;
  inset-inline-start: 0.4rem;
  inset-block-start: 0.1rem;
  font-family: $serif;
  font-size: 2.6rem;
  line-height: 1;
  color: rgba($primary-color, 0.2);
  pointer-events: none;
}

/* ========== 首页 About 卡片 CTA · 图文版 ========== */

/* 整块区域与上面文章列表拉开距离，并清理 float */
.home-section--about-cta {
  margin: 2.5rem 0 3rem;
  clear: both;
}

/* 卡片本身的通用外观 */
.home-cta {
  padding: 1.75rem 1.5rem;
  border-radius: 1.25rem;
  background: mix(#ffffff, $background-color, 80%); // 更靠近整体背景
  border: 1px solid mix(#000000, $border-color, 6%);
  box-shadow: 0 6px 18px rgba(15, 23, 42, 0.04);    // 阴影比之前浅一点
}

/* 让首页 CTA 区宽度更适中，居中显示 */
.home-section--cta .home-cta {
  max-width: 960px;
  margin-left: auto;
  margin-right: auto;
}

/* 控制整体宽度和居中（About 卡片） */
.home-cta--about {
  max-width: 980px;
  margin-left: auto;
  margin-right: auto;
}

/* 图文左右排版 */
.home-cta--about .home-cta__inner {
  display: flex;
  align-items: center;
  gap: 1.75rem;
}

/* 左侧图片区域 */
.home-cta--about .home-cta__media {
  flex: 0 0 36%;
}

.home-cta--about .home-cta__media img {
  display: block;
  width: 100%;
  height: 100%;
  max-height: 260px;
  object-fit: cover;
  border-radius: 1rem;
}

/* 右侧文字区域 */
.home-cta--about .home-cta__text {
  flex: 1 1 auto;
}

.home-cta--about .home-cta__text h2 {
  font-weight: 600;
  font-size: 1.4rem;
  line-height: 1.4;
  margin-bottom: 0.6rem;
}

.home-cta--about .home-cta__text p {
  font-size: 0.95rem;
  margin-bottom: 1.1rem;
  line-height: 1.7;
}

/* 按钮稍微离文字远一点 */
.home-cta--about .btn--primary {
  margin-top: 0.75rem;
  min-width: 170px;
}

/* 只针对 About 这张卡片的 padding 做微调 */
.home-cta.home-cta--about {
  padding: 1.5rem 1.5rem;
}

/* About 卡片里的小号说明文字 */
.home-cta__note {
  font-size: 0.9rem;
  color: $muted-text-color;
}

/* ========== 响应式：手机端（$small） ========== */

@include breakpoint($small) {
  /* 首页 section 间距稍微压缩 */
  .home-section {
    margin-top: 2rem;
    margin-bottom: 2.5rem;
  }

  .home-cta {
    padding: 1.75rem 1.25rem;
  }

  .page {
    padding-left: 1rem;
    padding-right: 1rem;
  }

  /* Hero 区整体垂直空间稍微收紧 */
  .page__hero--overlay {
    padding-block: 2.4rem 2.6rem;
  }

  /* 手机端标题字号稍微缩小一点 */
  .page__hero--overlay .page__title {
    font-size: 1.7rem;
    line-height: 1.25;
    margin-bottom: 0.55rem;
  }

  /* 副标题稍微小一点、行宽收窄一点 */
  .page__hero--overlay .page__lead {
    font-size: 0.95rem;
    max-width: 22rem;
  }

  /* 按钮一列排，间距均匀一点 */
  .page__hero--overlay .page__hero-actions {
    margin-top: 0.9rem;
    flex-direction: column;
    align-items: flex-start;
    gap: 0.55rem;
  }

  .page__hero--overlay .btn {
    min-height: 2.4rem;
    padding-inline: 1.3rem;
    font-size: 0.95rem;
    width: 100%;
    max-width: 280px;
  }

  /* About CTA：改为上下排，图片在上、文字在下 */
  .home-cta--about .home-cta__inner {
    flex-direction: column;
    align-

/* =========================
 * 文章页侧栏整体
 * ========================= */

/* 只在单篇文章布局里生效，避免影响首页 */
.layout--single .sidebar.sticky {
  /* 有需要可以在这里限制宽度，但你右侧 TOC 已经 OK，就不动宽度了 */
}

/* =========================
 * 作者卡片（author-profile.html）
 * ========================= */

/* 把作者卡片做成一张独立的小卡片，居中排版，更紧凑 */
.layout--single .sidebar .h-card {
  padding: 1.4rem 1.1rem 1.25rem;
  border-radius: 1.1rem;
  background: mix(#ffffff, $background-color, 85%);
  border: 1px solid mix(#000000, $border-color, 5%);
  box-shadow: 0 4px 14px rgba(15, 23, 42, 0.04);
  text-align: center;
}

/* 头像略小一点，避免过于“头重脚轻” */
.layout--single .sidebar .author__avatar {
  width: 80px;
  height: 80px;
  margin: 0 auto 0.75rem;
}

.layout--single .sidebar .author__avatar img {
  border-radius: 50%;
}

/* 名字和简介：更紧凑一点，字体略小 */
.layout--single .sidebar .author__name {
  font-size: 1rem;
  margin-bottom: 0.25rem;
}

.layout--single .sidebar .author__bio {
  font-size: 0.9rem;
  line-height: 1.6;
  color: $muted-text-color;
}

/* 社交链接列表：压缩行距，看起来更“精致”一点 */
.layout--single .sidebar .author__urls-wrapper {
  margin-top: 0.9rem;
}

/* 如果不想要“Follow”按钮，可以直接隐藏 */
.layout--single .sidebar .author__urls-wrapper > .btn {
  display: none;
}

.layout--single .sidebar .author__urls {
  font-size: 0.9rem;
}

.layout--single .sidebar .author__urls li {
  margin-bottom: 0.18rem;
}

/* =========================
 * 左侧专题目录模块（nav_list）
 * ========================= */

/* 专题模块标题（例如“企业剖析 / 经典系列”） */
.layout--single .sidebar .nav__title {
  margin: 1.4rem 0 0.3rem;
  padding: 0;
  font-family: $sans-serif;
  font-size: 0.96rem;
  font-weight: 600;
}

/* 把作者卡片与第一个专题块之间加一条细线，视觉上分区 */
.layout--single .sidebar .h-card + .nav__title {
  border-top: 1px solid mix(#000000, $border-color, 6%);
  padding-top: 1rem;
}

/* 专题小标题（比如“芯片半导体企业解析”、“新能源汽车”等） */
.layout--single .sidebar .nav__sub-title {
  margin: 0.55rem 0 0.25rem;
  padding: 0;
  font-family: $sans-serif;
  font-size: 0.9rem;
  font-weight: 600;
  text-transform: none;        /* 关闭默认的全大写，更适合中文 */
  border-bottom: none;
}

/* 专题条目列表 */
.layout--single .sidebar .nav__items {
  font-size: 0.9rem;
  line-height: 1.7;
  margin: 0 0 0.6rem;
}

/* 让侧栏里的链接颜色稍微淡一点，避免抢正文注意力 */
.layout--single .sidebar .nav__items a {
  color: $muted-text-color;

  &:hover {
    color: $link-color;
  }
}

/* =========================
 * 右侧 TOC 小优化（不改变宽度）
 * ========================= */

/* 目录整体字号稍微小一点，减轻“压迫感” */
.layout--single .sidebar .toc__menu {
  font-size: 0.92rem;
  line-height: 1.6;
}

/* 中文长标题允许中间断行，避免溢出或挤成一条 */
.layout--single .sidebar .toc__menu a {
  word-break: break-word;
}

/* 子级条目略微缩进，层级感更清晰 */
.layout--single .sidebar .toc__menu li ul > li a {
  padding-inline-start: 1.2rem;
}
