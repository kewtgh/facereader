---
layout: archive
---

{{ content }}

<div class="tag-groups">

  {% for group in site.data.tag-groups %}
    {% assign g = group[1] %}

    <section class="tag-group">
      <h2 class="tag-group-title">
        {% if site.locale == "zh" %}
          {{ g.title_zh }}
        {% else %}
          {{ g.title_en }}
        {% endif %}
      </h2>

      <div class="tag-group-list">
        {% for tag in g.tags %}
          {% if site.tags[tag] %}
            <a href="javascript:void(0);"
               class="tag-item tag-filter-btn"
               data-tag="{{ tag }}">
              {{ tag }}
              <span class="tag-count">({{ site.tags[tag].size }})</span>
            </a>
          {% endif %}
        {% endfor %}
      </div>
    </section>

  {% endfor %}

</div>

<hr>

<!-- 当前筛选状态 -->
<div class="tag-filter-status" id="current-tag-anchor">
  <strong>{{ site.data.ui-text[site.locale].tag_current }}:</strong>
  <span id="current-tag">All</span>
  
  <button onclick="resetFilter()" class="btn btn--small">
    {{ site.data.ui-text[site.locale].tag_clear }}
  </button>
</div>

<!-- 文章列表 -->
<div id="tag-posts">
  {% for post in site.posts %}
    <article class="tag-post-item"
             data-tags="{{ post.tags | join: ',' }}">
      <h3>
        <a href="{{ post.url | relative_url }}">
          {{ post.title }}
        </a>
      </h3>
      <p class="page__meta">{{ post.date | date: "%Y-%m-%d" }}</p>
      <p>{{ post.excerpt | strip_html | truncate: 120 }}</p>
    </article>
  {% endfor %}
</div>

<script src="{{ '/assets/js/tag-filter.js' | relative_url }}"></script>
<a href="#page-title" class="back-to-top">{{ site.data.ui-text[site.locale].back_to_top | default: 'Back to Top' }} &uarr;</a>