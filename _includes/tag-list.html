{% comment %}
  _includes/tag-list.html

  功能：
  - 在文章页输出 tags，并把每个 tag 链接到 tags 页的筛选模式：
    /tags/?tag=xxx#current-tag-anchor

  依赖：
  - _config.yml 中配置了 tag_archive.path（例如 /tags/）
  - tags 页的 JS 会读取 ?tag= 并执行筛选
  - tags 页存在 id="current-tag-anchor" 的锚点（用于滚动定位）
{% endcomment %}

{% if page.tags and page.tags.size > 0 %}
  {%- assign tags_sorted = page.tags | sort_natural -%}
  {%- assign tags_page = site.tag_archive.path | default: '/tags/' -%}

  <p class="page__taxonomy">
    <strong>
      <i class="fas fa-fw fa-tags" aria-hidden="true"></i>
      {{ site.data.ui-text[site.locale].tags_label | default: "Tags:" }}
    </strong>

    <span itemprop="keywords">
      {% for tag_word in tags_sorted %}
        {%- assign tag_param = tag_word | uri_escape -%}
        <a
          href="{{ tags_page | relative_url }}?tag={{ tag_param }}#current-tag-anchor"
          class="page__taxonomy-item p-category"
          rel="tag"
        >{{ tag_word }}</a>{% unless forloop.last %}<span class="sep">, </span>{% endunless %}
      {% endfor %}
    </span>
  </p>
{% endif %}
