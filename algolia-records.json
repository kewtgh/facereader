---
layout: null
permalink: /algolia-records.json
---
[
  {% assign posts = site.posts | where_exp: "p", "p.search != false" %}
  {% assign pages = site.pages | where_exp: "p", "p.search != false and p.layout != nil and p.url != '/algolia-records.json'" %}
  {% assign all = posts | concat: pages %}

  {% for p in all %}
  {
    "objectID": {{ p.url | jsonify }},
    "type": {{ p.collection | default: "page" | jsonify }},
    "title": {{ p.title | default: p.url | jsonify }},
    "description": {{ p.excerpt | default: "" | strip_html | strip_newlines | jsonify }},
    "content": {{ p.content | strip_html | strip_newlines | jsonify }},
    "url": {{ p.url | absolute_url | jsonify }},
    "date": {{ p.date | default: site.time | date_to_xmlschema | jsonify }},
    "date_ts": {{ p.date | default: site.time | date: "%s" | plus: 0 }},
    "categories": {{ p.categories | default: empty | jsonify }},
    "tags": {{ p.tags | default: empty | jsonify }}
  }{% unless forloop.last %},{% endunless %}
  {% endfor %}
]
